<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>YOURS - Thiết kế và in sản phẩm theo yêu cầu | Áo thun, Hoodie, Polo</title>
    <meta name="title" content="YOURS - Thiết kế và in sản phẩm theo yêu cầu | Áo thun, Hoodie, Polo">
    <meta name="description" content="YOURS - Nền tảng thiết kế và in ấn sản phẩm theo yêu cầu. Tạo áo thun, hoodie, polo độc đáo với công cụ thiết kế dễ dàng. Chất lượng cao, giá cả hợp lý, giao hàng toàn quốc.">
    <meta name="keywords" content="thiết kế áo thun, in áo thun, áo thun theo yêu cầu, hoodie, polo, thiết kế quần áo, in ấn, fashion design, YOURS, áo thun độc đáo">
    <meta name="author" content="YOURS Fashion Design">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Vietnamese">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yoursfashion.id.vn/">
    <meta property="og:title" content="YOURS - Thiết kế và in sản phẩm theo yêu cầu">
    <meta property="og:description" content="Tạo và in sản phẩm của riêng bạn một cách dễ dàng. Thiết kế áo thun, hoodie, polo độc đáo với công cụ thiết kế trực tuyến.">
    <meta property="og:image" content="https://yoursfashion.id.vn/resources/logo.png">
    <meta property="og:site_name" content="YOURS Fashion Design">
    <meta property="og:locale" content="vi_VN">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yoursfashion.id.vn/">
    <meta property="twitter:title" content="YOURS - Thiết kế và in sản phẩm theo yêu cầu">
    <meta property="twitter:description" content="Tạo và in sản phẩm của riêng bạn một cách dễ dàng. Thiết kế áo thun, hoodie, polo độc đáo.">
    <meta property="twitter:image" content="https://yoursfashion.id.vn/resources/logo.png">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#8A4AF3">
    <meta name="msapplication-TileColor" content="#8A4AF3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="YOURS">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://yoursfashion.id.vn/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="resources/web-logo.ico">
    <link rel="apple-touch-icon" href="resources/logo.png">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/homepage.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "YOURS Fashion Design",
      "url": "https://yoursfashion.id.vn",
      "logo": "https://yoursfashion.id.vn/resources/logo.png",
      "description": "Nền tảng thiết kế và in ấn sản phẩm theo yêu cầu",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "VN"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "email": "official.yours.fashiondesign@gmail.com",
        "contactType": "customer service"
      },
      "sameAs": [
        "https://www.facebook.com/profile.php?id=61576837198946",
        "https://www.instagram.com/yours.fashiondesign",
        "https://www.tiktok.com/@yours.fashiondesign"
      ]
    }
    </script>
  </head>
  <body>
  <!-- Header moved outside .container -->
  <header class="header">
    <div class="logo">
      <img src="resources/logo.png" alt="YOURS Logo" class="logo">
    </div>
    <button class="hamburger" aria-label="Mở menu" onclick="toggleMobileMenu()">
      <span></span><span></span><span></span>
    </button>
    <nav class="nav" id="mainNav">
      <ul>
        <li><button type="button" class="user-btn" onclick="activateTab('home')">Trang chủ</button></li>
        <li><button type="button" class="user-btn" onclick="window.location.replace('all-products.html')">Sản phẩm</button></li>
        <li><button type="button" class="user-btn" onclick="activateTab('design')">Thiết kế</button></li>
        <li><button type="button" class="user-btn" onclick="window.location.replace('about.html')">Về chúng tôi</button></li>
      </ul>
    </nav>
    <div class="user-menu" id="userMenu">
      <button id="accountBtn" class="user-btn" onclick="toggleDropdown()">Tài Khoản</button>
      <div id="userDropdown" class="dropdown">
        <a href="user-profile.html" class="dropdown-item">Thông tin cá nhân</a>
        <a href="designer-store.html" class="dropdown-item" id="designerStoreMenu">Cửa hàng của tôi</a>
        <a href="cart.html" class="dropdown-item">Giỏ hàng</a>
        <a href="choose-login.html" class="dropdown-item">Đăng xuất</a>
      </div>
    </div>
  </header>
  <div class="container">
    <main class="main">
      <div class="welcome-section">
        <div class="welcome-content animated-slide-left">
          <h1>Tạo và in <span class="highlight">sản phẩm của riêng bạn</span></h1>
          <p>"Thiết kế và in sản phẩm của riêng bạn một cách dễ dàng, từ ý tưởng đến thực tế"</p>
          <div class="cta-buttons">
            <a href="all-products.html" class="btn-explore">
              <span class="btn-icon">
                <!-- Shirt SVG icon -->
                <svg width="28" height="28" fill="none" stroke="#8A4AF3" stroke-width="2" viewBox="0 0 24 24">
                  <path d="M4 4l4-2 4 2 4-2 4 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4z"/>
                  <path d="M8 22V12h8v10"/>
                </svg>
              </span>
              Khám phá
            </a>
            <a id="main-cta-btn" href="design.html" class="btn-explore">
              <span class="btn-icon">
                <!-- Palette SVG icon -->
                <svg width="28" height="28" fill="none" stroke="#8A4AF3" stroke-width="2" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"/>
                  <circle cx="7" cy="10" r="1"/>
                  <circle cx="12" cy="7" r="1"/>
                  <circle cx="17" cy="10" r="1"/>
                  <circle cx="12" cy="17" r="1"/>
                </svg>
              </span>
              <span id="main-cta-text">Thiết Kế Ngay</span>
            </a>
          </div>
        </div>
        <div class="welcome-image animated-slide-right">
          <img src="resources/illustration.png" alt="Illustration" class="hero-image">
        </div>
      </div>
   <section class="product-section animated-fade-up">
        <h2>Sản phẩm nổi bật</h2>
        <a href="all-products.html?sort=most-loved" class="see-all">Xem thêm</a>
        <div id="featured-products" class="product-grid">
          <div class="loading-spinner"></div>
        </div>
      </section>



        <!-- New section for designer products -->
        <section class="product-section animated-fade-up">
          <h2>Thiết kế mới nhất</h2>
          <a href="all-products.html?sort=newest" class="see-all">Xem thêm</a>
          <div id="designer-products" class="product-grid">
            <div class="loading-spinner"></div>
          </div>
        </section>

        <section class="banner-section">
          <div class="banner-container">
            <img src="resources/banner2.png" alt="In theo yêu cầu" class="banner-image">
            <img src="resources/banner1.png" alt="Sản phẩm in ấn độc đáo" class="banner-image">
          </div>
        </section>

        <section class="commitment-section">
          <h2>Cam kết</h2>
          <div class="commitment-container">
            <div class="commitment-card">
              <h3>Chất lượng</h3>
              <ul>
                <li>Cam kết sử dụng vật liệu chất lượng cao.</li>
                <li>In chuẩn màu, đảm bảo độ bền màu.</li>
                <li>Hình ảnh in sắc nét, chuẩn xác.</li>
              </ul>
            </div>
            <div class="commitment-card">
              <h3>Bảo hành & đổi trả</h3>
              <ul>
                <li>Cam kết bảo hành sản phẩm nếu lỗi do nhà sản xuất.</li>
                <li>Chính sách đổi trả linh hoạt.</li>
                <li>Hỗ trợ khách hàng 24/7.</li>
              </ul>
            </div>
            <div class="commitment-card">
              <h3>Minh bạch</h3>
              <ul>
                <li>Báo giá rõ ràng, không có phụ phí.</li>
                <li>Cung cấp hình ảnh thực tế sản phẩm trước khi giao.</li>
                <li>Cam kết hoàn tiền nếu không hài lòng với sản phẩm.</li>
              </ul>
            </div>
          </div>
        </section>
    </main>
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-section">
          <img src="resources/logo-footer.png" alt="Footer Logo" class="footer-logo">
          <p class="tagline">Nơi sáng tạo những gì bạn muốn</p>
          <p class="support"><strong>Chăm sóc khách hàng</strong><br>official.yours.fashiondesign@gmail.com</p>
          <div class="social-icons">
            <a href="https://www.facebook.com/profile.php?id=61576837198946" target="_blank" rel="noopener noreferrer">
              <img src="resources/facebook-footer.png" alt="Facebook">
            </a>
            <a href="https://www.instagram.com/yours.fashiondesign" target="_blank" rel="noopener noreferrer">
              <img src="resources/instagram-footer.png" alt="Instagram">
            </a>
            <a href="https://www.tiktok.com/@yours.fashiondesign" target="_blank" rel="noopener noreferrer">
              <img src="resources/tiktok-footer.png" alt="TikTok">
            </a>
          </div>
        </div>
        <div class="footer-section">
          <h4>YOURS</h4>
          <ul>
            <li><a href="about.html">Về chúng tôi</a></li>
            <li><a href="all-products.html">Sản phẩm</a></li>
            <li><a href="#">Câu hỏi thường gặp</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Chính sách & hỗ trợ</h4>
          <ul>
            <li><a href="#">Chính sách bảo mật và quyền riêng tư</a></li>
            <li><a href="#">Điều khoản và điều kiện</a></li>
            <li><a href="#">Chính sách vận chuyển và giao nhận</a></li>
            <li><a href="#">Quy định và hình thức thanh toán</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Phương thức thanh toán</h4>
          <div class="payment-methods">
            <img src="resources/payos.png" alt="payos">
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>Bản quyền © 2025 | Bảo lưu mọi quyền | <a href="#">Điều khoản và Điều kiện</a> | <a href="#">Chính sách bảo mật</a></p>
      </div>
    </footer>
  </div>

  <!-- Login Required Modal for Design Button -->
<div id="addToCartModal" class="custom-modal" style="display:none;">
  <div class="custom-modal-content">
    <h2 class="custom-modal-title">Bạn cần đăng nhập để sử dụng tính năng thiết kế</h2>
    <p class="custom-modal-message">Vui lòng đăng nhập hoặc đăng ký tài khoản để bắt đầu thiết kế sản phẩm của riêng bạn.</p>
    <div class="custom-modal-actions">
      <button class="custom-modal-btn primary" id="loginSignupBtn">Đăng nhập / Đăng ký</button>
      <button class="custom-modal-btn secondary" id="closeModalBtn">Để sau</button>
    </div>
  </div>
</div>
<style>
.custom-modal {
  position: fixed;
  z-index: 10010;
  left: 0; top: 0; width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.18);
  display: flex; align-items: center; justify-content: center;
  animation: modalOverlayFadeIn 0.35s cubic-bezier(0.23, 1, 0.32, 1);
}
@keyframes modalOverlayFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.custom-modal-content {
  background: #fff;
  border-radius: 22px;
  box-shadow: 0 8px 32px rgba(90,34,212,0.18);
  padding: 38px 36px 32px 36px;
  max-width: 400px;
  width: 90vw;
  text-align: center;
  opacity: 0;
  transform: scale(0.95);
  animation: modalContentPopIn 0.38s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}
@keyframes modalContentPopIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
.custom-modal-title {
  color: #7B3FF2;
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 18px;
  font-family: 'Montserrat', sans-serif;
}
.custom-modal-message {
  color: #7B3FF2;
  font-size: 1.18rem;
  margin-bottom: 32px;
  font-weight: 500;
}
.custom-modal-actions {
  display: flex;
  gap: 18px;
  justify-content: center;
}
.custom-modal-btn {
  border: none;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 700;
  padding: 12px 32px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.custom-modal-btn.primary {
  background: #7B3FF2;
  color: #fff;
}
.custom-modal-btn.primary:hover {
  background: #5B22D4;
}
.custom-modal-btn.secondary {
  background: #f5f0ff;
  color: #7B3FF2;
}
.custom-modal-btn.secondary:hover {
  background: #e6dbff;
}
@media (max-width: 500px) {
  .custom-modal-content { padding: 24px 8px 18px 8px; }
  .custom-modal-title { font-size: 1.2rem; }
  .custom-modal-message { font-size: 1rem; }
  .custom-modal-btn { font-size: 1rem; padding: 10px 16px; }
}
</style>
<script>
window.API_BASE_URL =
  window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1"
    ? "http://localhost:3000"
    : "https://yours-fashion.vercel.app";
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const designBtn = document.querySelector('button[onclick*="activateTab(\'design\')"]');
  const modal = document.getElementById('addToCartModal');
  const loginBtn = document.getElementById('loginSignupBtn');
  const closeBtn = document.getElementById('closeModalBtn');
  const modalTitle = document.querySelector('.custom-modal-title');
  const modalMsg = document.querySelector('.custom-modal-message');
  function showLoginModalIfNotLoggedIn(e) {
    const token = localStorage.getItem('token');
    if (!token) {
      e.preventDefault();
      modalTitle.textContent = 'Bạn cần đăng nhập để sử dụng tính năng thiết kế';
      modalMsg.textContent = 'Vui lòng đăng nhập hoặc đăng ký tài khoản để bắt đầu thiết kế sản phẩm của riêng bạn.';
      modal.style.display = 'flex';
    }
  }
  if (designBtn && modal && loginBtn && closeBtn) {
    designBtn.addEventListener('click', showLoginModalIfNotLoggedIn);
  }
  if (loginBtn) {
    loginBtn.onclick = function() {
      window.location.href = 'choose-login.html';
    };
  }
  if (closeBtn) {
    closeBtn.onclick = function() {
      modal.style.display = 'none';
    };
  }
  if (modal) {
    modal.addEventListener('click', function(e) {
      if (e.target === modal) modal.style.display = 'none';
    });
  }
});
</script>
  <script>
       // Kiểm tra token khi trang tải
    const token = localStorage.getItem('token');
    if (!token) {
      window.location.href = 'homepage-unauthenticated.html';
      return;
    }

    // Gọi API để lấy thông tin người dùng
    fetch(`${window.API_BASE_URL}/api/user`, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
    })
    .then(response => {
      if (!response.ok) {
        console.log('API error - Status:', response.status, 'Message:', response.statusText);
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.json();
    })
    .then(data => {
      console.log('API response:', data);
      if (data.user && data.user.username) {
        document.getElementById('username').textContent = data.user.username;
      } else {
        console.log('Username not found in response');
        document.getElementById('username').textContent = 'Khách hàng';
      }
    })
    .catch(error => {
      console.error('Error fetching user:', error.message);
      localStorage.removeItem('token');
      window.location.href = 'homepage-unauthenticated.html';
    });


    // Đóng dropdown khi nhấp ra ngoài
    document.addEventListener('click', function(event) {
      const userBtn = document.querySelector('.user-btn');
      const dropdown = document.getElementById('userDropdown');
      if (!userBtn.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = 'none';
      }
    });
      // Handle logout
      logoutBtn.addEventListener('click', (e) => {
        e.preventDefault();
        localStorage.removeItem('token');
        localStorage.removeItem('userName');
        alert('Đã đăng xuất thành công!');
        window.location.href = 'index.html';
      });
  </script>
  <script>
    // Function to toggle dropdown
    function toggleDropdown() {
      const dropdown = document.getElementById('userDropdown');
      if (dropdown.classList.contains('show')) {
        dropdown.classList.remove('show');
      } else {
        dropdown.classList.add('show');
      }
    }

    // Function to activate tab
    function activateTab(tabName) {
      event.preventDefault(); // Prevent default button behavior
      if (tabName === 'home') {
        window.location.replace('index.html');
      } else if (tabName === 'design') {
        // Check if user is authenticated
        const token = localStorage.getItem('token');
        if (!token) {
          showLoginModal();
        } else {
          window.location.replace('design.html');
        }
      } // 'products' and 'blog' do nothing
    }

    // Modal functions
    function showLoginModal() {
      const modal = document.getElementById('loginRequiredModal');
      modal.style.display = 'block';
    }

    function closeLoginModal() {
      const modal = document.getElementById('loginRequiredModal');
      modal.style.display = 'none';
    }

    function goToLogin() {
      window.location.href = 'choose-login.html';
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('loginRequiredModal');
      if (event.target === modal) {
        closeLoginModal();
      }
    }

    // Đặt trạng thái active mặc định dựa trên trang hiện tại
    document.addEventListener('DOMContentLoaded', () => {
      const currentPage = window.location.pathname.split('/').pop();
      if (currentPage === 'index.html') {
        const homeBtn = document.querySelector('button[onclick="activateTab(\'home\')"]');
        if (homeBtn) homeBtn.classList.add('active');
      }
    });
  </script>
  <script src="javascript/homepage.js"></script>
  <script src="javascript/designer-products.js"></script>
  <script>
  // Hide 'Cửa hàng của tôi' for non-designers
  (function() {
    function getRoleFromToken() {
      const token = localStorage.getItem('token');
      if (!token) return null;
      try {
        const payload = JSON.parse(atob(token.split('.')[1]));
        return payload.role;
      } catch (e) { return null; }
    }
    if (getRoleFromToken() !== 'designer') {
      var storeMenu = document.getElementById('designerStoreMenu');
      if (storeMenu) storeMenu.style.display = 'none';
    }
  })();
  </script>
  <script>
  // Swap CTA button for unauthenticated users
  (function() {
    const token = localStorage.getItem('token');
    const ctaBtn = document.getElementById('main-cta-btn');
    const ctaText = document.getElementById('main-cta-text');
    if (!token && ctaBtn && ctaText) {
      ctaBtn.href = 'choose-login.html';
      ctaText.textContent = 'Đăng ký ngay';
    } else if (ctaBtn && ctaText) {
      ctaBtn.href = 'design.html';
      ctaText.textContent = 'Thiết Kế Ngay';
    }
  })();
  </script>
  <script>
  // Swap account button for unauthenticated users
  (function() {
    const token = localStorage.getItem('token');
    const accountBtn = document.getElementById('accountBtn');
    const userDropdown = document.getElementById('userDropdown');
    if (!token && accountBtn) {
      // Replace button with a link
      const link = document.createElement('a');
      link.href = 'choose-login.html';
      link.className = 'user-btn';
      link.textContent = 'Tài Khoản';
      accountBtn.parentNode.replaceChild(link, accountBtn);
      if (userDropdown) userDropdown.style.display = 'none';
    }
  })();
  </script>
  <script>
function toggleMobileMenu() {
  document.querySelector('.nav').classList.toggle('show-mobile');
  document.getElementById('userMenu').classList.toggle('show-mobile');
}
</script>
  </body>
</html> 